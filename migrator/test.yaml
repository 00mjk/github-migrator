-
  name: repo

  source: &source
    repo:
      name: source
      full_name: example/source
      description: This is a description.
      html_url: http://localhost/example
      private: false

  target:
    repo:
      name: target
      full_name: example/target
      private: true

    update_repo:
      name: target
      full_name: example/target
      description: This is a description.
      html_url: http://localhost/example
      private: true

-
  name: labels

  source:
    repo:
      name: source
      full_name: example/source
    labels:
      - id: 1
        name: bug1
      - id: 2
        name: bug2
        description: This is a description.
      - id: 3
        name: bug3
        color: fc2929
      - id: 4
        name: bug4
        description: This is a description.
      - id: 5
        name: bug5
        color: bfbfbf
      - id: 6
        name: bug6
        description: This is a description.
        color: c8c8c8

  target:
    repo:
      name: target
      full_name: example/target
    labels:
      - id: 1
        name: bug1
      - id: 2
        name: bug4
      - id: 3
        name: bug5
        color: 29fc29
      - id: 4
        name: bug6
        description: This is a description.
        color: c8c8c8
    create_labels:
      - name: bug2
        description: This is a description.
      - name: bug3
        color: fc2929
    update_labels:
      - name: bug4
        description: This is a description.
      - name: bug5
        color: bfbfbf

-
  name: issues

  source:
    repo:
      name: source
      full_name: example/source
      html_url: http://localhost/example/source
    members:
      - &user1
        login: sample-user-1
      - &user2
        login: sample-user-2
      - &user3
        login: sample-user-3
    labels:
      - &label1
        id: 1
        name: bug
        description: this is a bug
        color: fc2929
        default: true
      - &label2
        id: 2
        name: design
        description: this is a design
        color: bfdadc
        default: false
    issues:
      - number: 1
        title: Example title 1
        state: closed
        body: |
          Example body 1
        html_url: http://localhost/example/source/issues/1
        user: *user1
        assignee: *user1
        events:
          - actor: *user2
            event: closed
            created_at: 2019-11-18T12:00:00Z
      - number: 2
        title: Example title 2
        state: open
        body: |
          Example body 2
          See http://localhost/example/source/issues/1.
        html_url: http://localhost/example/source/issues/2
        user: *user2
        assignee: *user2
        labels:
          - *label1
          - *label2
        comments:
          - body: |
              Example comment body 1
            html_url: http://localhost/example/source/issues/2#issuecomment-1
            user: *user1
          - body: |
              Example comment body 2
              Ref: http://localhost/example/source/issues/1.
            html_url: http://localhost/example/source/issues/2#issuecomment-2
            user: *user2
          - body: |
              Example comment body 3
            html_url: http://localhost/example/source/issues/2#issuecomment-2
        events:
          - actor: *user1
            event: labeled
            label: *label1
            created_at: 2019-11-18T12:00:00Z
          - actor: *user1
            event: labeled
            label: *label2
            created_at: 2019-11-18T12:00:00Z
          - actor: *user1
            event: unlabeled
            label:
              name: test1
            created_at: 2019-11-18T12:00:00Z
          - actor: *user2
            event: labeled
            label:
              name: test2
            created_at: 2019-11-18T13:00:00Z
          - actor: *user3
            event: unlabeled
            label:
              name: test2
            created_at: 2019-11-18T13:00:00Z
          - actor: *user2
            event: renamed
            rename:
              from: Event title 2
              to: <div><p>
            created_at: 2019-11-18T14:00:00Z
          - actor: *user2
            event: renamed
            rename:
              from: <div><p>
              to: Event title 2
            created_at: 2019-11-18T14:00:05Z
          - actor: *user2
            event: assigned
            assignees: [*user2, *user3]
            assigner: *user1
            created_at: 2019-11-18T15:00:00Z
          - actor: *user2
            event: unassigned
            assignee: *user2
            assigner: *user1
            created_at: 2019-11-18T15:10:00Z
          - actor: *user2
            event: assigned
            assignee: *user2
            assigner: *user1
            created_at: 2019-11-18T15:10:09Z
          - actor: *user2
            event: assigned
            assignee: *user2
            assigner: *user2
            created_at: 2019-11-18T15:10:20Z
          - actor: *user2
            event: unassigned
            assignee: *user2
            assigner: *user2
            created_at: 2019-11-18T15:10:30Z
          - actor: *user2
            event: converted_note_to_issue
            project_card:
              project_id: 100
              column_name: next week
            created_at: 2019-11-18T17:00:00Z
          - actor: *user2
            event: added_to_project
            project_card:
              project_id: 100
              column_name: next week
            created_at: 2019-11-18T17:10:00Z
          - actor: *user2
            event: moved_columns_in_project
            project_card:
              project_id: 100
              previous_column_name: next week
              column_name: this week
            created_at: 2019-11-18T17:20:00Z
          - actor: *user2
            event: removed_from_project
            project_card:
              project_id: 100
              column_name: this week
            created_at: 2019-11-18T18:00:00Z
          - actor: *user3
            event: deployed
            created_at: 2019-11-18T20:00:00Z
          - event: unassigned
            created_at: 2019-11-18T21:00:00Z
    projects:
      - id: 100
        name: project 100
        html_url: http://localhost/example/source/projects/1

  target:
    repo:
      name: target
      full_name: example/target
      html_url: http://localhost/example/target
    members:
      - *user1
      - *user2
    labels:
      - *label1
      - *label2
    imports:
      - issue:
          title: Example title 1
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/sample-user-1.png" width="35">
              </td>
              <td>
                @sample-user-1 created the original issue<br>
                imported from <a href="http://localhost/example/source/issues/1">example/source#1</a>
              </td>
            </tr>
            </table>


            Example body 1
          assignee: sample-user-1
          closed: true
          labels: []
        comments:
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 closed the issue
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:00Z
      - issue:
          title: Example title 2
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/sample-user-2.png" width="35">
              </td>
              <td>
                @sample-user-2 created the original issue<br>
                imported from <a href="http://localhost/example/source/issues/2">example/source#2</a>
              </td>
            </tr>
            </table>


            Example body 2
            See http://localhost/example/target/issues/1.
          assignee: sample-user-2
          closed: false
          labels:
            - bug
            - design
        comments:
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1.png" width="35">
                </td>
                <td>
                  @sample-user-1 commented
                </td>
              </tr>
              </table>


              Example comment body 1
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 commented
                </td>
              </tr>
              </table>


              Example comment body 2
              Ref: http://localhost/example/target/issues/1.
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/ghost.png" width="35">
                </td>
                <td>
                  @ghost commented
                </td>
              </tr>
              </table>


              Example comment body 3
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1.png" width="35">
                </td>
                <td>
                  @sample-user-1 added <b><code>bug</code></b> <b><code>design</code></b> and removed <b><code>test1</code></b> labels
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 added <b><code>test2</code></b> label
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T13:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 removed <b><code>test2</code></b> label
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T13:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 changed the title <b><s>Event title 2</s></b> <b>&lt;div&gt;&lt;p&gt;</b> and changed the title <b><s>&lt;div&gt;&lt;p&gt;</s></b> <b>Event title 2</b>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T14:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1.png" width="35">
                </td>
                <td>
                  @sample-user-1 assigned @sample-user-2 @sample-user-3
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1.png" width="35">
                </td>
                <td>
                  @sample-user-1 unassigned @sample-user-2 and assigned @sample-user-2
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:10:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 self-assigned this
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:10:20Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 removed their assignment
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:10:30Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 created this issue from a note in <b><a href="http://localhost/example/target/projects/1">project 100</a></b> (<code>next week</code>)
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T17:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 added this to <code>next week</code> in <b><a href="http://localhost/example/target/projects/1">project 100</a></b>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T17:10:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 moved this from <code>next week</code> to <code>this week</code> in <b><a href="http://localhost/example/target/projects/1">project 100</a></b>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T17:20:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-2.png" width="35">
                </td>
                <td>
                  @sample-user-2 removed this from <code>this week</code> in <b><a href="http://localhost/example/target/projects/1">project 100</a></b>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T18:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 deployed this
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T20:00:00Z
    create_projects:
      - id: 200
        name: project 100
        html_url: http://localhost/example/target/projects/1

-
  name: pull requests

  source:
    members:
      - &user1
        login: sample-user-1
      - &user2
        login: sample-user-2
      - &user3
        login: sample-user-3
      - &user4
        login: sample-user-1-2
    repo:
      name: source
      full_name: example/source
      description: The source repository.
      html_url: http://localhost/example/source
      homepage: http://localhost/
      private: false
    labels:
      - &label1
        id: 1
        name: bug
        description: this is a bug
        color: fc2929
        default: true
      - &label2
        id: 2
        name: design
        description: this is a design
        color: bfdadc
        default: false
      - &label3
        id: 3
        name: invalid
        color: e6e6e6
        default: true
    issues:
      - number: 1
        title: Example title 3
        state: closed
        body: |
          Example body 3
          ![sample](http://localhost/storage/sample)
          <img alt="image" src="http://localhost/storage/sample" width="300">
        html_url: http://localhost/example/source/pull/1
        user: *user3
        assignee: *user3
        pull_request:
          url: http://localhost/example/source/pulls/1
          html_url: http://localhost/example/source/pull/1
        merged: true
        merged_by: *user2
        merge_commit_sha: sha222222
        head:
          sha: sha111111
          ref: staging
          repo: *source
        base:
          sha: sha000000
          ref: master
          repo: *source
        commits: 3
        additions: 1
        deletions: 20
        changed_files: 5
        comments:
          - body: |
              LGTM
            html_url: http://localhost/example/source/issues/3#issuecomment-1
            user: *user2
        commit_details:
          - sha: shaxxxyyx
            html_url: http://localhost/example/source/commit/shaxxxyyx
            commit:
              committer:
                name: sample-user-3
                date: 2019-11-10T03:00:00Z
              message: commit message 1
            committer: *user3
          - sha: shaxxxyyy
            html_url: http://localhost/example/source/commit/shaxxxyyy
            commit:
              committer:
                name: sample-user-3
                date: 2019-11-10T03:10:00Z
              message: commit message 2
            committer: *user3
          - sha: shaxxxyyz
            html_url: http://localhost/example/source/commit/shaxxxyyz
            commit:
              committer:
                name: sample-user-2
                date: 2019-11-10T03:20:00Z
              message: commit message 3
            committer: *user2
        reviews:
          - id: 100
            state: CHANGES_REQUESTED
            body: |
              Please fix here.
            user: *user1
          - id: 200
            state: COMMENTED
            body: |
              Comment.
            user: *user1
          - id: 300
            state: APPROVED
            body: |
              LGTM
            user: *user2
        review_comments:
          - id: 100
            path: sample.txt
            diff_hunk: |-
              @@ -0.0 +1 @@
              +foo
              +http://localhost/example/source # urls in diff are kept
            body: |
              Nice catch.
              http://localhost/example/source # urls in comment are replaced
            user: *user2
          - id: 200
            path: sample.txt
            diff_hunk: |-
              @@ -0.0 +1 @@
              +foo
            body: |
              @bob Thanks.
              http://localhost/bob
              http://example.com/bob
              https://localhost-bob.example.com/bob
            user: *user3
          - id: 300
            path: sample.txt
            diff_hunk: |-
              @@ -0.0 +1 @@
              +bar
            body: |
              nice. see http://localhost/example/source/issues/2.
            user: *user1
        events:
          - actor: *user2
            event: merged
            created_at: 2019-11-18T12:00:00Z
            commit_id: sha222222
          - actor: *user2
            event: closed
            created_at: 2019-11-18T12:00:01Z
          - actor: *user2
            event: head_ref_force_pushed
            created_at: 2019-11-18T12:00:05Z
          - actor: *user2
            event: base_ref_force_pushed
            created_at: 2019-11-18T12:00:15Z
          - actor: *user2
            event: head_ref_deleted
            created_at: 2019-11-18T12:00:10Z
          - actor: *user2
            event: head_ref_restored
            created_at: 2019-11-18T12:00:18Z
          - actor: *user3
            event: locked
            created_at: 2019-11-18T13:00:00Z
            lock_reason: off-topic
          - actor: *user2
            event: unlocked
            created_at: 2019-11-18T14:00:00Z
          - actor: *user2
            event: pinned
            created_at: 2019-11-18T14:30:00Z
          - actor: *user2
            event: unpinned
            created_at: 2019-11-18T14:40:00Z
          - actor: *user3
            event: review_requested
            requested_reviewer: *user2
            created_at: 2019-11-18T15:00:00Z
          - actor: *user2
            event: review_requested
            requested_reviewer: *user2
            created_at: 2019-11-18T15:10:00Z
          - actor: *user3
            event: review_request_removed
            requested_reviewer: *user2
            created_at: 2019-11-18T15:20:00Z
          - actor: *user2
            event: review_request_removed
            requested_reviewer: *user2
            created_at: 2019-11-18T15:30:00Z
          - actor: *user2
            event: review_requested
            requested_team:
              name: requested team
            created_at: 2019-11-18T15:35:00Z
          - actor: *user2
            event: review_dismissed
            dismissed_review:
              review_id: 100
              dismissal_message: This is nice.
            created_at: 2019-11-18T15:40:00Z
          - actor: *user2
            event: ready_for_review
            created_at: 2019-11-18T15:50:00Z
          - actor: *user2
            event: convert_to_draft
            created_at: 2019-11-18T15:55:00Z
    compare:
      sha000000...sha111111: |
        diff --git a/README.md b/README.md
        index 1234567..89abcde 100644
        --- a/README.md
        +++ b/README.md
        @@ -1,6 +1,16 @@
        # README
        -deleted
        +added

  target:
    members:
      - *user2
      - *user4
    repo:
      name: target
      full_name: example/target
      description: The target repository.
      html_url: http://localhost/example/target
      private: true
    update_repo:
      name: target
      full_name: example/target
      description: The target repository.
      html_url: http://localhost/example/target
      homepage: http://localhost/
      private: true
    labels:
      - *label1
      - *label3
    create_labels:
      - *label2
    update_labels:
      - *label3
    issues: []
    imports:
      - issue:
          title: Example title 3
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/github.png" width="35">
              </td>
              <td>
                @sample-user-3 created the original pull request<br>
                <a href="http://localhost/example/target/compare/sha000000...sha111111">sha0000...sha1111</a> into <code>master</code> from <code>staging</code><br>
                imported from <a href="http://localhost/example/source/pull/1">example/source#1</a>
              </td>
            </tr>
            <tr></tr>
            <tr>
              <td colspan="2">
              <details>
                <summary>5 files changed, 1 insertion(+), 20 deletions(-)</summary>

            ```diff
            diff --git a/README.md b/README.md
            index 1234567..89abcde 100644
            --- a/README.md
            +++ b/README.md
            @@ -1,6 +1,16 @@
            # README
            -deleted
            +added
            ```
              </details>
              </td>
            </tr>
            <tr></tr>
            <tr>
              <td colspan="2">
                <details>
                  <summary>3 commits</summary>
                  <table>
                  <tr>
                    <td>
                      commit message 1<br>
                      <img src="https://github.com/github.png" width="16"> @sample-user-3 committed on Sun 10, 2019 <a href="http://localhost/example/target/commit/shaxxxyyx">shaxxxy</a>
                    </td>
                  </tr>
                  <tr></tr>
                  <tr>
                    <td>
                      commit message 2<br>
                      <img src="https://github.com/github.png" width="16"> @sample-user-3 committed on Sun 10, 2019 <a href="http://localhost/example/target/commit/shaxxxyyy">shaxxxy</a>
                    </td>
                  </tr>
                  <tr></tr>
                  <tr>
                    <td>
                      commit message 3<br>
                      <img src="https://github.com/sample-user-1-2.png" width="16"> @sample-user-1-2 committed on Sun 10, 2019 <a href="http://localhost/example/target/commit/shaxxxyyz">shaxxxy</a>
                    </td>
                  </tr>
                  </table>
                </details>
              </td>
            </tr>
            </table>


            Example body 3
            ![sample](http://localhost/storage/sample)
            <img alt="image" src="http://localhost/storage/sample" width="300">
          assignee: ""
          closed: true
          labels: []
        comments:
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 commented
                </td>
              </tr>
              </table>


              LGTM
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 merged the pull request<br>
                  commit <a href="http://localhost/example/target/commit/sha222222">sha2222</a> into <code>master</code> from <code>staging</code>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 force-pushed the <code>staging</code> branch
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:05Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 force-pushed the <code>master</code> branch
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:15Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 deleted the <code>staging</code> branch and restored the <code>staging</code> branch
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T12:00:10Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 locked as <b>off topic</b> and limited conversation to collaborators
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T13:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 unlocked this conversation
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T14:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 pinned this issue
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T14:30:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 unpinned this issue
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T14:40:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 requested a review from @sample-user-1-2
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 self-requested a review
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:10:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 removed the request for review from @sample-user-1-2
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:20:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 removed their request for review
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:30:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 requested a review from <b>requested team</b>
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:35:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 dismissed @sample-user-1's review<br>This is nice.
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:40:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 marked this pull request as ready for review
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:50:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 marked this pull request as draft
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:55:00Z
          - body: |
              ```diff
              # sample.txt
              @@ -0.0 +1 @@
              +foo
              +http://localhost/example/source # urls in diff are kept
              ```

              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 commented
                </td>
              </tr>
              </table>


              Nice catch.
              http://localhost/example/target # urls in comment are replaced
          - body: |
              ```diff
              # sample.txt
              @@ -0.0 +1 @@
              +foo
              ```

              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-3 commented
                </td>
              </tr>
              </table>


              @charlie Thanks.
              http://localhost/charlie
              http://example.com/bob
              https://localhost-bob.example.com/bob
          - body: |
              ```diff
              # sample.txt
              @@ -0.0 +1 @@
              +bar
              ```

              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-1 commented
                </td>
              </tr>
              </table>


              nice. see http://localhost/example/target/issues/2.
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-1 requested changes
                </td>
              </tr>
              </table>


              Please fix here.
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/sample-user-1-2.png" width="35">
                </td>
                <td>
                  @sample-user-1-2 approved
                </td>
              </tr>
              </table>


              LGTM

  user_mapping:
    bob: charlie
    sample-user-2: sample-user-1-2

-
  name: image links

  source:
    repo:
      name: source
      full_name: example/source
      html_url: http://localhost1/example/source
    issues:
      - number: 1
        title: Example title 1
        body: |
          Example body 1
          ![](http://localhost1/storage/sample)
          ![sample](http://localhost1/storage/sample)
          ![SAMPLE](HTTP://LOCALHOST1/STORAGE/SAMPLE)
          <img src="http://localhost1/storage/sample">
          <img alt="image" src="http://localhost1/storage/sample" width="300">
          |![](http://localhost1/storage/sample1)|<img src="http://localhost1/storage/sample2">|![](http://localhost1/storage/sample3)|
          ![](http://localhost2/storage/sample)
          <a href="http://localhost1/storage/sample">![](http://localhost1/storage/sample)</a>
          <a href="http://localhost1/storage/sample"><img src="http://localhost1/storage/sample"></a>
        html_url: http://localhost/example/source/issues/1
        state: open
        user: *user1
        created_at: 2019-11-18T12:00:00Z

  target:
    repo:
      name: target
      full_name: example/target
      html_url: http://localhost2/example/target
    imports:
      - issue:
          title: Example title 1
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/github.png" width="35">
              </td>
              <td>
                @sample-user-1 created the original issue<br>
                imported from <a href="http://localhost/example/source/issues/1">example/source#1</a>
              </td>
            </tr>
            </table>


            Example body 1
            <a href="http://localhost1/storage/sample">![](http://localhost1/storage/sample)</a>
            <a href="http://localhost1/storage/sample">![sample](http://localhost1/storage/sample)</a>
            <a href="HTTP://LOCALHOST1/STORAGE/SAMPLE">![SAMPLE](HTTP://LOCALHOST1/STORAGE/SAMPLE)</a>
            <a href="http://localhost1/storage/sample"><img src="http://localhost1/storage/sample"></a>
            <a href="http://localhost1/storage/sample"><img alt="image" src="http://localhost1/storage/sample" width="300"></a>
            |<a href="http://localhost1/storage/sample1">![](http://localhost1/storage/sample1)</a>|<a href="http://localhost1/storage/sample2"><img src="http://localhost1/storage/sample2"></a>|<a href="http://localhost1/storage/sample3">![](http://localhost1/storage/sample3)</a>|
            ![](http://localhost2/storage/sample)
            <a href="http://localhost1/storage/sample"><a href="http://localhost1/storage/sample">![](http://localhost1/storage/sample)</a></a>
            <a href="http://localhost1/storage/sample"><a href="http://localhost1/storage/sample"><img src="http://localhost1/storage/sample"></a></a>
          created_at: 2019-11-18T12:00:00Z
          closed: false
          labels: []
        comments: []

-
  name: deleted issues

  source:
    repo:
      name: source
      full_name: example/source
      html_url: http://localhost/example/source
    issues:
      - number: 1
        title: Example title 1
        state: closed
        user: *user1
        created_at: 2019-11-18T12:00:00Z
      - number: 4
        title: Example title 4
        state: open
        user: *user1
        created_at: 2019-11-18T13:00:00Z

  target:
    repo:
      name: target
      full_name: example/target
      html_url: http://localhost/example/target
    users:
      sample-user-1: *user1
    imports:
      - issue:
          title: Example title 1
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/sample-user-1.png" width="35">
              </td>
              <td>
                @sample-user-1 created the original issue<br>
                imported from <a href="">example/source#1</a>
              </td>
            </tr>
            </table>
          created_at: 2019-11-18T12:00:00Z
          closed: true
          labels: []
        comments: []
      - issue:
          title: "[Deleted issue]"
          body: |
            <table>
            <tr>
              <td>This issue was imported from <a href="http://localhost/example/source/issues/2">example/source#2</a>, which has already been deleted.</td>
            </tr>
            </table>
          created_at: 2019-11-18T13:00:00Z
          updated_at: 2019-11-18T13:00:00Z
          closed_at: 2019-11-18T13:00:00Z
          closed: true
        comments: []
      - issue:
          title: "[Deleted issue]"
          body: |
            <table>
            <tr>
              <td>This issue was imported from <a href="http://localhost/example/source/issues/3">example/source#3</a>, which has already been deleted.</td>
            </tr>
            </table>
          created_at: 2019-11-18T13:00:00Z
          updated_at: 2019-11-18T13:00:00Z
          closed_at: 2019-11-18T13:00:00Z
          closed: true
        comments: []
      - issue:
          title: Example title 4
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/sample-user-1.png" width="35">
              </td>
              <td>
                @sample-user-1 created the original issue<br>
                imported from <a href="">example/source#4</a>
              </td>
            </tr>
            </table>
          created_at: 2019-11-18T13:00:00Z
          closed: false
          labels: []
        comments: []

-
  name: hooks

  source:
    repo:
      name: source
      full_name: example/source
    hooks:
      - id: 1
        name: "web"
        events: ["push"]
        config:
          url: http://localhost/hook1
          content_type: json
        active: true
      - id: 2
        name: "web"
        events: ["push", "pull_request"]
        config:
          url: http://localhost/hook2
          content_type: form
        active: true
      - id: 3
        name: "web"
        events: ["issue"]
        config:
          url: http://localhost/hook3
          content_type: json
        active: false

  target:
    repo:
      name: target
      full_name: example/target
    hooks:
      - id: 2
        name: "web"
        events: ["push"]
        config:
          url: http://localhost/hook2
          content_type: form
        active: true
      - id: 3
        name: "web"
        events: ["issue"]
        config:
          url: http://localhost/hook3
          content_type: json
        active: true
    create_hooks:
      - name: "web"
        events: ["push"]
        config:
          url: http://localhost/hook1
          content_type: json
        active: true
    update_hooks:
      - name: "web"
        events: ["push", "pull_request"]
        config:
          url: http://localhost/hook2
          content_type: form
        active: true
      - name: "web"
        events: ["issue"]
        config:
          url: http://localhost/hook3
          content_type: json
        active: false

-
  name: projects

  source:
    repo:
      name: source
      full_name: example/source
    projects:
      - id: 1
        name: project 1
        state: open
      - id: 2
        name: project 2
        body: body 2
        state: closed
      - id: 3
        name: project 3
        body: body 3
        state: open
      - id: 4
        name: project 4
        body: body 4
        state: open

  target:
    repo:
      name: target
      full_name: example/target
    projects:
      - id: 1
        name: project 1
        state: open
      - id: 2
        name: project 2
        body: body 2
        state: open
      - id: 3
        name: project 3
        body: body
        state: open
    update_projects:
      - id: 2
        name: project 2
        body: body 2
        state: closed
      - id: 3
        name: project 3
        body: body 3
        state: open
    create_projects:
      - id: 4
        name: project 4
        body: body 4
        state: open

-
  name: project columns and cards

  source:
    repo:
      name: source
      full_name: example/source
    projects:
      - id: 1
        name: project 1
        state: open
        columns:
          - id: 1
            name: column 1
            cards:
              - note: card 1
              - note: card 2
              - content_url: http://localhost/example/source/issues/1
              - content_url: http://localhost/example/source/pulls/2
          - id: 2
            name: column 2
            cards:
              - content_url: http://localhost/example/source/pulls/2
              - note: card 2
              - content_url: http://localhost/example/source/issues/1
          - id: 3
            name: column 3
            cards:
              - note: card 1

  target:
    repo:
      name: target
      full_name: example/target
    issues:
      - number: 1
        id: 100
      - number: 2
        id: 200
    projects:
      - id: 1
        name: project 1
        state: open
        columns:
          - id: 2
            name: column 2
            cards:
              - note: card 2
              - content_url: http://localhost/example/target/issues/1
    create_project_columns:
      - id: 1
        name: column 1
      - id: 3
        name: column 3
    create_project_cards:
      - content_id: 200
        content_type: Issue
      - content_id: 100
        content_type: Issue
      - note: card 2
      - note: card 1
      - content_id: 200
        content_type: Issue
      - note: card 1

-
  name: milestones

  source:
    repo:
      name: source
      full_name: example/source
    milestones:
      - number: 1
        title: milestone 1
        state: open
      - &milestone
        number: 2
        title: milestone 2
        description: description 2
        state: closed
      - number: 4
        title: milestone 3
        description: description 3
        state: open
      - number: 5
        title: milestone 4
        description: description 4
        state: open
    issues:
      - number: 1
        title: Example title 1
        state: open
        user: *user1
        milestone: *milestone
        created_at: 2019-11-18T12:00:00Z
        events:
          - actor: *user1
            event: milestoned
            milestone:
              title: milestone 3
            created_at: 2019-11-18T13:00:00Z
          - actor: *user1
            event: demilestoned
            milestone:
              title: milestone 3
            created_at: 2019-11-18T14:00:00Z
          - actor: *user1
            event: milestoned
            milestone:
              title: milestone 5
            created_at: 2019-11-18T15:00:00Z

  target:
    repo:
      name: target
      full_name: example/target
    milestones:
      - number: 1
        title: milestone 1
        state: open
      - number: 3
        title: milestone 2
        description: description 2
        state: open
      - number: 2
        title: milestone 3
        description: description
        state: open
        html_url: http://localhost/example/target/milestones/2
    update_milestones:
      - number: 3
        title: milestone 2
        description: description 2
        state: closed
      - number: 2
        title: milestone 3
        description: description 3
        state: open
    create_milestones:
      - number: 4
        title: "[Deleted milestone 4]"
        state: closed
      - number: 5
        title: milestone 4
        description: description 4
        state: open
    imports:
      - issue:
          title: Example title 1
          body: |
            <table>
            <tr>
              <td width="60">
                <img src="https://github.com/github.png" width="35">
              </td>
              <td>
                @sample-user-1 created the original issue<br>
                imported from <a href="">example/source#1</a>
              </td>
            </tr>
            </table>
          milestone: 3
          created_at: 2019-11-18T12:00:00Z
          closed: false
          labels: []
        comments:
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-1 added this to the <b><a href="http://localhost/example/target/milestones/2">milestone 3</a></b> milestone
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T13:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-1 removed this from the <b><a href="http://localhost/example/target/milestones/2">milestone 3</a></b> milestone
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T14:00:00Z
          - body: |
              <table>
              <tr>
                <td width="60">
                  <img src="https://github.com/github.png" width="35">
                </td>
                <td>
                  @sample-user-1 added this to the <b>milestone 5</b> milestone
                </td>
              </tr>
              </table>
            created_at: 2019-11-18T15:00:00Z
